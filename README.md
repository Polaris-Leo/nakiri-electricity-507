# Nakiri Electricity Cloudflare

è¿™æ˜¯ä¸€ä¸ªåŸºäº React å’Œ Cloudflare Workers çš„å…¨æ ˆç”µé‡ç›‘æµ‹ç³»ç»Ÿæ¨¡æ¿ã€‚<br>
ç‰¹ç‚¹ï¼šå•ä½“æ¶æ„ (Monolith)ï¼Œé›¶æˆæœ¬ï¼Œè‡ªåŠ¨çˆ¬è™«ï¼Œç¾è§‚å›¾è¡¨ã€‚

### ğŸš€ å¿«é€Ÿå¼€å§‹
ç‚¹å‡»å³å¯ä¸€é”®éƒ¨ç½²åˆ°Cloudflareä¸Šï¼ˆéœ€è¦Cloudflareè´¦æˆ·ï¼‰<br>  
[![Deploy to Cloudflare Workers](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/Polaris-Leo/Nakiri-Electricity-Cloudflare)<br>  
**ä½ éœ€è¦ä¿®æ”¹3ä¸ªç¯å¢ƒå˜é‡ï¼Œæ›¿æ¢æˆä½ è‡ªå·±çš„ä¿¡æ¯**
```
PART_ID = æ ¡åŒº  #ï¼ˆå¦‚ï¼šPART_ID = å¥‰è´¤ï¼‰ï¼ˆå¥‰è´¤|å¾æ±‡ï¼‰
BUILD_ID = æ¥¼å·  #ï¼ˆå¦‚ï¼šBUILD_ID = 18 ä»£è¡¨18å·æ¥¼ï¼‰
ROOM_ID = å®¿èˆå·  #ï¼ˆå¦‚ï¼šROOM_ID = 101ï¼‰
```
![é…ç½®é¢æ¿](assets/Cloudflare-Init.png)

#### ç¤ºä¾‹é…ç½®ï¼š
##### ç¤ºä¾‹é…ç½®1ï¼š
å¥‰è´¤æ ¡åŒºï¼Œ5å·æ¥¼ï¼Œ202ï¼š
```
PART_ID = å¥‰è´¤
BUILD_ID = 5
ROOM_ID = 202
```
##### ç¤ºä¾‹é…ç½®2ï¼š
å¾æ±‡æ ¡åŒºï¼Œ13å·æ¥¼ï¼Œ405ï¼š
```
PART_ID = å¾æ±‡
BUILD_ID = 13
ROOM_ID = 405
```
##### ç¤ºä¾‹é…ç½®3ï¼š
ç‰¹æ®Šæ¥¼æ ‹ (å¾æ±‡å—åŒº4A)ï¼š
```
PART_ID = å¾æ±‡
BUILD_ID = å—åŒº4A
ROOM_ID = 101
```

## Nakiri Electricity æ˜¯ä¸€ä¸ªç°ä»£åŒ–ã€é«˜é¢œå€¼çš„å®¿èˆç”µé‡ç›‘æ§é¢æ¿ã€‚

å®ƒå¯ä»¥å¸®åŠ©ä½ å®æ—¶è¿½è¸ªç‰¹å®šæˆ¿é—´çš„ç”µåŠ›æ¶ˆè€—æƒ…å†µï¼Œæä¾›è¯¦ç»†çš„å›¾è¡¨åˆ†æã€å……å€¼è®°å½•æ£€æµ‹ä»¥åŠå‰©ä½™å¯ç”¨å¤©æ•°ä¼°ç®—ã€‚

![ç»Ÿè®¡é¢æ¿](assets/Dashboard.png)

âœ¨ åŠŸèƒ½ç‰¹æ€§

ğŸ“Š æ·±åº¦æ•°æ®åˆ†æï¼š

å®æ—¶ç”µé‡è¶‹åŠ¿å›¾ï¼ˆæ”¯æŒå¹³æ»‘æ›²çº¿ä¸æ•°æ®ç‚¹äº¤äº’ï¼‰ã€‚

æ ¸å¿ƒæŒ‡æ ‡çœ‹æ¿ï¼šå½“å‰ä½™é‡ã€è¿‘3å°æ—¶æ¶ˆè€—ã€å•æ—¥æœ€å¤§/æœ€å°æ¶ˆè€—ã€‚

æ·±åº¦åˆ†æï¼š24å°æ—¶æ¶ˆè€—ã€7å¤©æ¶ˆè€—ã€ä¸Šæ¬¡å……å€¼é‡‘é¢åŠæ—¶é—´ã€é¢„è®¡å¯ç”¨å¤©æ•°ä¼°ç®—ã€‚

ğŸ¨ ç°ä»£åŒ– UI è®¾è®¡ï¼š

åŸºäº Tailwind CSS çš„å“åº”å¼å¸ƒå±€ï¼Œå®Œç¾é€‚é…æ¡Œé¢ä¸ç§»åŠ¨ç«¯ã€‚

åŸç”Ÿæ”¯æŒ æ·±è‰²æ¨¡å¼ (Dark Mode)ï¼Œéšç³»ç»Ÿè‡ªåŠ¨åˆ‡æ¢æˆ–æ‰‹åŠ¨åˆ‡æ¢ã€‚

ä¸æ»‘çš„ Framer Motion äº¤äº’åŠ¨ç”»ã€‚

ğŸ¤– è‡ªåŠ¨åŒ–è¿è¡Œï¼š

å†…ç½® Cron å®šæ—¶ä»»åŠ¡ï¼Œæ¯å°æ—¶è‡ªåŠ¨æŠ“å–æœ€æ–°æ•°æ®ã€‚

æ™ºèƒ½è¯†åˆ«å……å€¼è¡Œä¸ºï¼ˆæ’é™¤å……å€¼å¸¦æ¥çš„ç”µé‡è·³å˜å¹²æ‰°æ¶ˆè€—è®¡ç®—ï¼‰ã€‚

### ğŸ› ï¸ æ‰‹åŠ¨éƒ¨ç½²
#### 1. å®‰è£…ä¾èµ–
```
npm install
```

#### 2. åˆ›å»ºæ•°æ®åº“
```
npx wrangler d1 create nakiri-db
```

å¤åˆ¶ç»ˆç«¯è¾“å‡ºçš„ database_idã€‚

#### 3. é…ç½®é¡¹ç›®

æ‰“å¼€ wrangler.tomlï¼š

å¡«å…¥ä¸Šä¸€æ­¥è·å–çš„ database_idã€‚

åœ¨ [vars] éƒ¨åˆ†ä¿®æ”¹æœ¬åœ°æµ‹è¯•ç”¨çš„æˆ¿é—´å·ã€‚

#### 4. åˆå§‹åŒ–æ•°æ®åº“è¡¨
```
npm run db:init
```

#### 5. ä¸€é”®éƒ¨ç½²
```
npm run deploy
```

#### 6. çº¿ä¸Šé…ç½®

éƒ¨ç½²å®Œæˆåï¼Œå» Cloudflare Dashboard -> Workers & Pages -> Settings -> Variables æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

ROOM_ID: æˆ¿é—´å· (å¦‚ 507)

PART_ID: æ ¡åŒº (å¦‚ å¾æ±‡)

BUILD_ID: æ¥¼å· (å¦‚ 18)

#### 7.æœ¬åœ°å¼€å‘
```
npx wrangler dev
```
